<?php

use Centum\Mvc\Exception\RouteNotFoundException;
use Centum\Mvc\Router;

////////////////////////////////////////////////////////////////////////////////
//                                   ROUTER                                   //
////////////////////////////////////////////////////////////////////////////////

$router = new Router($container);



////////////////////////////////////////////////////////////////////////////////
//                                   ROUTES                                   //
////////////////////////////////////////////////////////////////////////////////

$router->get("/", App\Controllers\IndexController::class, "index");

////////////////////////////////////////////////////////////////////////////////

$router->get("/error/403", App\Controllers\ErrorController::class, "error403");
$router->get("/error/404", App\Controllers\ErrorController::class, "error404");
$router->get("/error/500", App\Controllers\ErrorController::class, "error500");


////////////////////////////////////////////////////////////////////////////////
//                             EXCEPTION HANDLERS                             //
////////////////////////////////////////////////////////////////////////////////

$router->addExceptionHandler(
    RouteNotFoundException::class,
    App\Controllers\ErrorController::class,
    "error404"
);

$router->addExceptionHandler(
    Throwable::class,
    App\Controllers\ErrorController::class,
    "error500"
);



////////////////////////////////////////////////////////////////////////////////
//                                 AND RETURN                                 //
////////////////////////////////////////////////////////////////////////////////

return $router;
